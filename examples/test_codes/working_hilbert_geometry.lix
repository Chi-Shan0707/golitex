set point
set line
set plane

fn angle(a point, b point, c point) real

prop point_on_line(p point, l line)
prop point_on_plane(q point, p plane)

fn line_of(a point, b point) line:
    a != b
    then:
        $point_on_line(line_of(a, b), a)
        $point_on_line(line_of(a, b), b)
        forall l line:
            $point_on_line(a, l)
            $point_on_line(b, l)
            then:
                l = line_of(a, b)

prove:
    obj a point, b point, l line:
        a != b
        $point_on_line(a, l)
        $point_on_line(b, l)
    l = line_of(a, b)

exist_prop c point st a_line_has_more_than_two_points(l line, a point, b point):
    a != b
    $point_on_line(a, l)
    $point_on_line(b, l)
    iff:
        $point_on_line(c, l)
        c != a
        c != b

know forall l line, a point, b point:
    a != b
    $point_on_line(a, l)
    $point_on_line(b, l)
    then:
        $a_line_has_more_than_two_points(l, a, b)

prove:
    obj a point, b point, l line:
        a != b
        $point_on_line(a, l)
        $point_on_line(b, l)

    $a_line_has_more_than_two_points(l,a,b)

    have c st $a_line_has_more_than_two_points(l,a,b)

    $point_on_line(c,l)

fn plain_of(a point, b point, c point) plane:
    a != b
    a != c
    b != c
    then:
        $point_on_plane(a, plain_of(a, b, c))
        $point_on_plane(b, plain_of(a, b, c))
        $point_on_plane(c, plain_of(a, b, c))
        forall p plane:
            $point_on_plane(a, p)
            $point_on_plane(b, p)
            $point_on_plane(c, p)
            then:
                p = plain_of(a, b, c)

prove:
    obj a point, b point, c point, p plane:
        a != b
        a != c
        b != c
        $point_on_plane(a, p)
        $point_on_plane(b, p)
        $point_on_plane(c, p)

    forall p2 plane:
        $point_on_plane(a, p2)
        $point_on_plane(b, p2)
        $point_on_plane(c, p2)
        then:
            p2 = plain_of(a, b, c)

prop line_on_plane(l line, p plane):
    forall x point:
        $point_on_line(x, l)
        then:
            $point_on_plane(x, p)

know:
    forall p plane, a point, b point:
        $point_on_plane(a, p)
        $point_on_plane(b, p)
        a != b
        $point_on_line(p, line_of(a, b))

know prop point_on_line_line_on_plane_then_point_on_plane(a point, l line, p plane):
    $point_on_line(a, l)
    $line_on_plane(l, p)
    iff:
        $point_on_plane(a, p)

prove:
    obj a point, b point, c point, l line, p plane:
        $point_on_line(a, l)
        $line_on_plane(l, p)
    
    $point_on_line_line_on_plane_then_point_on_plane(a, l, p)
    $point_on_plane(a,p)

exist_prop a point, b point, c point, d point st exist_four_points_not_on_any_plane():
    a != b
    a != c
    a != d
    b != c
    b != d
    c != d
    $not_on_any_plane(a, b, c, d)

prop not_on_any_plane(a point, b point, c point, d point):
    forall p plane:
        or:
            not $point_on_plane(a, p)
            not $point_on_plane(b, p)
            not $point_on_plane(c, p)
            not $point_on_plane(d, p)

know $exist_four_points_not_on_any_plane()

prove:
    have a , b , c , d  st $exist_four_points_not_on_any_plane()
    $not_on_any_plane(a, b, c, d)

    forall p plane:
            or:
                not $point_on_plane(a, p)
                not $point_on_plane(b, p)
                not $point_on_plane(c, p)
                not $point_on_plane(d, p)

prop between(left point, right point, middle point):
    dom:
        left != right

know:
    forall left point, right point, middle point:
        left != right
        then:
            $point_on_line(middle, line_of(left, right))